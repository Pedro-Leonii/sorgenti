name: Inserisce le issue per cui Ã¨ stata aperta una pull request nella colonna review della project board

on: 
  pull_request:
    types: [opened, reopened]
  
jobs:
  move_issue:
     if: startsWith(github.head_ref, 'feature/')
     runs-on: ubuntu-latest
     env:
       GH_TOKEN: ${{ github.token }}
       PROJECT_ID: ${{ secrets.PROJECT_ID }}
       
     steps:
      - name: get issue id
        run: |
              id_issue=$(echo "${{github.head_ref}}" | grep -E -o -m 1 '#([0-9]+)')
              echo "ID_ISSUE=$id_issue" >> $GITHUB_ENV
              echo "$id_issue"
              
      - name: setup gh
        run: sudo apt-get install gh
  
      - name: clone repo
        run: | 
          gh repo clone https://github.com/Pedro-Leonii/sorgenti
          cd sorgenti
      
