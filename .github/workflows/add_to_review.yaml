name: Inserisce le issue per cui Ã¨ stata aperta una pull request nella colonna review della project board

on: 
  pull_request:
    types: [opened, reopened]
  
jobs:
  move_issue:
     if: startsWith(github.head_ref, 'feature/')
     runs-on: ubuntu-latest
     env:
       GH_TOKEN: ${{ github.token }}
       PR_NUMBER: ${{ github.event.number }}
     steps:
      - name: setup gh
        run: sudo apt-get install gh
  
      - name: clone repo
        run: | 
          gh repo clone https://github.com/Pedro-Leonii/sorgenti
          cd sorgenti
          
      - name: get issue
        run: |
            (gh pr view $PR_NUMBER | grep -E -o -m 1 '#[0-9]+') >> $GITHUB_OUTPY
